<div class="row">
  <div class="col-lg-12">
    <div class="img-wrap">
      <img src="../../assets/img/header-logo.png" alt="">
    </div>
  </div>
</div>

<div class="row mt-3" >
  <div class="col-lg-12 d-flex justify-content-center mb-3">
    <h3>Registration</h3>
  </div>
  <div class="col-lg-12 d-flex justify-content-center">
    <form action="" class="form-horizontal" #mainForm = "ngForm" >
      <div class="form-group">
        <div class="row">
          <div class="col-lg-12 d-flex justify-content-center">
            <label for="main_login">Login</label>
          </div>
          <div class="col-lg-12 d-flex justify-content-center">
            <input type="text" id="main_login"
                   [(ngModel)] = "user.login"
                   name="login"
                   #login ="ngModel"
                   pattern="[a-zA-Z](.[a-zA-Z0-9_-]*)$"
                   required>
          </div>

          <div [hidden] = "login.valid || login.untouched" class="alert alert-danger login-validation">
            Wrong login
          </div>
        </div>
      </div>
      <div class="form-group">
        <div class="row">
          <div class="col-lg-12 d-flex justify-content-center">
            <label for="first_name">First name</label>
          </div>
          <div class="col-lg-12 d-flex justify-content-center">
            <input type="text" id="first_name"
                   [(ngModel)] = "user.firstName"
                   name="firstName"
                   #firstName = "ngModel"
                   pattern = "^[A-Z]{1}[a-z]+$"
                   required>
          </div>

          <div [hidden] = "firstName.valid || firstName.untouched" class="alert alert-danger first-name-validation">
            Wrong First Name
          </div>
        </div>
      </div>

      <div class="form-group">
        <div class="row">
          <div class="col-lg-12 d-flex justify-content-center">
            <label for="last_name">Last name</label>
          </div>
          <div class="col-lg-12 d-flex justify-content-center">
            <input type="text" id="last_name"
                   [(ngModel)] = "user.lastName"
                   name="lastName"
                   #lastName = "ngModel"
                   pattern = "^[A-Z]{1}[a-z]+$"
                   required>
          </div>

          <div [hidden] = "lastName.valid || lastName.untouched" class="alert alert-danger last-name-validation">
            Wrong Last Name
          </div>
        </div>
      </div>

      <div class="form-group">
        <div class="row">
          <div class="col-lg-12 d-flex justify-content-center">
            <label for="last_name">Email</label>
          </div>
          <div class="col-lg-12 d-flex justify-content-center">
            <input type="text" id="email"
                   [(ngModel)] = "user.email"
                   name="email"
                   #email = "ngModel"
                   pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$"
                   required>
          </div>

          <div [hidden] = "email.valid || email.untouched" class="alert alert-danger email-validation">
            Wrong Email
          </div>
        </div>
      </div>

      <div ngModelGroup="password" #userPassword="ngModelGroup" required >
      <div class="form-group">
        <div class="row">
          <div class="col-lg-12 d-flex justify-content-center">
            <label for="password">Password</label>
          </div>
          <div class="col-lg-12 d-flex justify-content-center">
            <input type="password" id="password"
                   [(ngModel)] = "user.password"
                   #password ="ngModel"
                   name = "password"
                   minlength="8"
                   required>
          </div>

          <div [hidden] = "password.valid || password.untouched" class="alert alert-danger second-psw-validation">
            Wrong password
          </div>
        </div>
      </div>

      <div class="form-group">
        <div class="row">
          <div class="col-lg-12 d-flex justify-content-center">
            <label for="confPassword">Confirm password</label>
          </div>
          <div class="col-lg-12 d-flex justify-content-center">
            <input type="password" id="confPassword"
                   [(ngModel)] = "user.confPassword"
                   name="confPassword"
                   minlength="8"
                   #confPassword = "ngModel"
                   required
                   >
          </div>
        </div>
      </div>

        <div *ngIf="(userPassword.invalid || userPassword.value?.password != userPassword.value?.confPassword) && (userPassword.touched)"
             class="alert alert-danger">
          Passwords don't coincide
        </div>

      </div>

      <div class="form-check mt-3">
        <input type="checkbox" class="form-check-input position_checkbox" id="checkbox"
               [(ngModel)] = "user.checkbox"
               name="checkbox"
               required>
        <label class="form-check-label d-flex justify-content-center text-lg-center" for="checkbox">I confirm that I have read and agree <br>to the Terms and Conditions
          and privacy statement. </label>
      </div>

      <div class="form-group">
        <div class="row">
          <div class="col-lg-12 d-flex justify-content-center mt-4 ">
            <button type="submit" class="btn btn-primary" routerLink="/user" routerLinkActive="active"
                    [disabled] = "!mainForm.form.valid"> Register</button>
          </div>
          <div class="col-lg-12 d-flex justify-content-center mt-4">
            <p>If your register, return to login page</p>
          </div>
          <div class="col-lg-12 d-flex justify-content-center mt-2">
            <a routerLink="/" routerLinkActive="active" class="btn btn-primary color_button">Return</a>
          </div>
        </div>
      </div>
    </form>


  </div>
</div>

